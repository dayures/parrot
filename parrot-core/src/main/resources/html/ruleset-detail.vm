#if ( ($element.Version) ||
	  ($element.Date) ||
	  (!$element.creators.isEmpty()) ||
	  (!$element.contributors.isEmpty()) ||
	  (!$element.publishers.isEmpty()) ||
	  ($element.Rights) ||
	  ($element.LicenseLabel) )
  #set( $vci = true )
#else
  #set( $vci = false )
#end

#if ( ($element.Uri) ||
	  ($element.Strategy) ||
	  ($element.Priority) )
  #set( $ti = true )
#else
  #set( $ti = false )
#end

#if ( (!$element.rules.isEmpty()) ||
	  (!$element.ruleSets.isEmpty()) ||
	  ($element.Parent) )
  #set( $inuse = true )
#else
  #set( $inuse = false )
#end

#if ( (!$element.labels.isEmpty()) ||
  	  (!$element.relatedDocuments.isEmpty()) )
  #set( $otherinfo = true )
#else
  #set( $otherinfo = false )
#end

<div class="term">
  <h3><a id="$element.Anchor"></a><span class="parrot-element-title parrot-ruleset-title">$element.Label</span> (RuleSet)
    #parse("html/detail-menu.vm")
  </h3>

  #parse("html/description.vm")

  <div>
  
  #if ($vci)
    #parse("html/version-control.vm")
  #end
  

  #if ( $ti )
  <div class="ti"> 
  <h4>Definition</h4> 

    #if($element.Uri)
    <dl>
      <dt>URI</dt>
      <dd><pre>$element.Uri</pre></dd>
    </dl>
    #end
  
	<p>This ruleset ... </p> 
    #if($element.Strategy)
      <p>... use a strategy <span><code>$element.Strategy</code></span></p>
    #end

    #if($element.Priority)
      <p>... has as priority <span><strong>$element.Priority</strong></span></p>
    #end

  </div>
  #end
  
 
  #if ( $inuse )
  <div class="inuse"> 
  <h4>In use</h4> 
  <dl>
  
    #if(!$element.rules.isEmpty())
      <p>This ruleset contains rules such as...
      #foreach($v in $element.rules)
	    <span class="parrot-element-ref parrot-rule-ref"><a href="#$v.LocalName">$v.Label</a></span>
      #end
      </p>
    #end
   
    #if(!$element.ruleSets.isEmpty())
      <p>This ruleset contains rulesets such as...
      #foreach($v in $element.ruleSets)
	    <span class="parrot-element-ref parrot-ruleset-ref"><a href="#$v.LocalName">$v.Label</a></span>
      #end
      </p>
    #end
   
    #if($element.Parent)
      <p>This ruleset is inside 
	  <span class="parrot-element-ref parrot-${element.Parent.kindString}-ref"><a href="#$element.Parent.localName">$element.Parent.label</a></span>
	  </p>
    #end
  </dl>    
  </div>
  #end
  
  
  #if ( $otherinfo )
  	#parse("html/documentation.vm")
  #end
  
  </div>
  
</div>
